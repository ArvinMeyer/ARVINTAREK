{% extends "base.html" %}

{% block title %}New Scan - Email Extraction System{% endblock %}

{% block content %}
<div class="px-4 py-6 sm:px-0">
    <div class="bg-white shadow rounded-lg p-6 max-w-3xl mx-auto">
        <h2 class="text-2xl font-bold text-gray-900 mb-6">Create New Scan Job</h2>

        <form action="/scan/new" method="POST">
            <!-- Job Name -->
            <div class="mb-6">
                <label for="name" class="block text-sm font-medium text-gray-700 mb-2">
                    Job Name
                </label>
                <input type="text" name="name" id="name"
                    class="shadow-sm focus:ring-blue-500 focus:border-blue-500 block w-full sm:text-sm border-gray-300 rounded-md p-2 border"
                    placeholder="My Scan Job">
            </div>

            <!-- URLs -->
            <div class="mb-6">
                <label for="urls" class="block text-sm font-medium text-gray-700 mb-2">
                    URLs to Scan <span class="text-red-500">*</span>
                </label>
                <textarea name="urls" id="urls" rows="10" required
                    class="shadow-sm focus:ring-blue-500 focus:border-blue-500 block w-full sm:text-sm border-gray-300 rounded-md p-2 border"
                    placeholder="https://example.com&#10;https://example.com/contact&#10;https://example.com/about"></textarea>
                <p class="mt-2 text-sm text-gray-500">Enter one URL per line. Only scan websites you have permission to
                    access.</p>
            </div>

            <!-- Settings -->
            <div class="grid grid-cols-1 gap-6 sm:grid-cols-2 mb-6">
                <!-- Threads -->
                <div>
                    <label for="threads" class="block text-sm font-medium text-gray-700 mb-2">
                        Threads
                    </label>
                    <input type="number" name="threads" id="threads" value="3" min="1" max="10"
                        class="shadow-sm focus:ring-blue-500 focus:border-blue-500 block w-full sm:text-sm border-gray-300 rounded-md p-2 border">
                    <p class="mt-1 text-sm text-gray-500">Number of concurrent threads (1-10)</p>
                </div>

                <!-- Max Depth -->
                <div>
                    <label for="max_depth" class="block text-sm font-medium text-gray-700 mb-2">
                        Max Depth
                    </label>
                    <input type="number" name="max_depth" id="max_depth" value="2" min="1" max="5"
                        class="shadow-sm focus:ring-blue-500 focus:border-blue-500 block w-full sm:text-sm border-gray-300 rounded-md p-2 border">
                    <p class="mt-1 text-sm text-gray-500">Maximum crawl depth (1-5)</p>
                </div>
            </div>

            <!-- Legal Notice -->
            <div class="mb-6 p-4 bg-yellow-50 border-l-4 border-yellow-400">
                <div class="flex">
                    <div class="flex-shrink-0">
                        <svg class="h-5 w-5 text-yellow-400" viewBox="0 0 20 20" fill="currentColor">
                            <path fill-rule="evenodd"
                                d="M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z"
                                clip-rule="evenodd" />
                        </svg>
                    </div>
                    <div class="ml-3">
                        <p class="text-sm text-yellow-700">
                            <strong>Legal Notice:</strong> Only scan websites you have explicit permission to access.
                            Do not bypass security controls or CAPTCHAs. Ensure compliance with all applicable laws and
                            regulations.
                        </p>
                    </div>
                </div>
            </div>

            <!-- Submit Button -->
            <div class="flex justify-end space-x-3">
                <a href="/"
                    class="inline-flex items-center px-4 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50">
                    Cancel
                </a>
                <button type="submit"
                    class="inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700">
                    Create Scan Job
                </button>
            </div>
        </form>
    </div>
</div>
{% endblock %}